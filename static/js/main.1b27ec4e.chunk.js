(this["webpackJsonpbook-head"]=this["webpackJsonpbook-head"]||[]).push([[0],{148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a.n(l),i=(a(82),a(83),a(12)),c=a(13),o=a(15),u=a(14),m=a(16),d=a(26),h=a(9),g=a(154),f=a(155),E=a(70),p=a.n(E),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=localStorage.getItem("username");console.log("local storage",e),e&&a.setState({savedusername:e,checkusername:!0})},a.state={checkusername:!1,savedusername:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.savedusername;return e=t.checkusername?r.a.createElement("div",null,r.a.createElement("h3",null,"Welcome back ",a," "),r.a.createElement("p",null,"Use the navigation to view your book list, make updates, add new books.")):r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome to your new favorite reading tracker"),r.a.createElement("p",null,"Login to view your books or sign-up to create an account and start your list of books.")),r.a.createElement("article",{className:"welcome"},r.a.createElement(g.a,null,r.a.createElement(f.a,{md:{span:6,offset:2}},e),r.a.createElement(f.a,{md:{span:3,offset:1}},r.a.createElement("div",null,r.a.createElement("img",{src:p.a})))))}}]),t}(r.a.Component),b=a(6),k=a(17),y=a.n(k),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){console.log("mounted");var e=localStorage.getItem("username");console.log(e),e&&a.setState({savedusername:e,checkusername:!0})},a.handleClear=function(){console.log("reached clear"),localStorage.clear(),a.setState({checkusername:!1})},a.handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t={firstName:a.state.firstName.toLowerCase(),lastName:a.state.lastName.toLowerCase(),username:a.state.username,id:a.state.username+"id=0",date:y()().toDate(),author:"null",title:"null",status:"null",format:"null",rating:"null",overview:"null",image:"null"};console.log(t),e.preventDefault(),a.setState({searchloading:!0}),console.log("before fetch",a.state.submitting),fetch("https://sheet.best/api/sheets/f1c6e2c7-2b3d-4f85-8e10-39c1cf415351",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((function(e){return a.setState({usernamedone:a.state.username,searchloading:!1,firstName:"",lastName:"",username:"",done:!0}),console.log("done user",a.state.usernamedone),localStorage.setItem("username",a.state.usernamedone),a.props.updateNav(),e.json()}))},a.state={submitting:!1,firstName:"",lastName:"",username:"",checkusername:!1,savedusername:"",done:!1,usernamedone:"",bookid:"",searchloading:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.firstName,n=t.lastName,l=t.username,s=t.usernamedone,i=t.savedusername,c=t.checkusername,o=t.searchloading,u=t.done,m=this.state.submitting;return c?e=r.a.createElement("div",{className:"login"},r.a.createElement("p",null,"Looks like you have already signed up as ",i),r.a.createElement("p",null,"Not ",i," or want to sign up another user? ",r.a.createElement("span",{onClick:this.handleClear},"Logout and sign up as new user."))):u?e=r.a.createElement("div",{className:"login"},r.a.createElement("p",null,"Thanks for signing up ",s)):u||o||(e=r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:m?"loading":"submit-form"},r.a.createElement("p",null,r.a.createElement("label",null,"First Name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"firstName",value:a,onChange:this.handleChange}))),r.a.createElement("p",null,r.a.createElement("label",null,"Last Name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"lastName",value:n,onChange:this.handleChange}))),r.a.createElement("p",null,r.a.createElement("label",null,"Create your username: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"username",value:l,onChange:this.handleChange}))),r.a.createElement("input",{type:"submit",disabled:m,value:"Submit"})))),r.a.createElement("div",{className:"main-body"},r.a.createElement("h2",null,"Sign up as a new user"),r.a.createElement("hr",null),o&&r.a.createElement("div",{class:"progress-infinite"},r.a.createElement("div",{class:"progress-bar3"})),e)}}]),t}(r.a.Component),S=(a(85),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getAllData();var e=localStorage.getItem("username");console.log(e),e&&a.setState({savedusername:e,checkusername:!0})},a.getAllData=function(){fetch("https://sheet.best/api/sheets/f1c6e2c7-2b3d-4f85-8e10-39c1cf415351").then((function(e){return e.json()})).then((function(e){a.setState({allData:e}),console.log("data",a.state.allData)}))},a.handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.state.allData;a.setState({searchloading:!0});for(var n=0;n<t.length;n++)console.log(t[n].username),t[n].username===a.state.username&&(console.log("we found ",a.state.username," and ",t[n].username),a.setState({usernamefound:!0}),localStorage.setItem("username",a.state.username));a.setState({searchloading:!1})},a.state={submitting:!1,firstName:"",lastName:"",username:"",checkusername:!1,savedusername:"",done:!1,usernamedone:"",usernamefound:!1,allData:[],searchloading:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.username,n=t.usernamedone,l=t.savedusername,s=t.checkusername,i=t.searchloading,c=t.done,o=t.usernamefound,u=this.state.submitting;return e=s?r.a.createElement("div",{className:"login"},r.a.createElement("p",null,"Looks like you are already signed in as ",l),r.a.createElement("p",null,"Not ",l," or want to sign up another user? Logout and then login or sign-up.")):c?r.a.createElement("div",{className:"login"},r.a.createElement("p",null,"Thanks for signing in ",n)):o&&!i?r.a.createElement("div",{className:"login"},r.a.createElement("h3",null,"Welcome back ",a),r.a.createElement("p",null,"Use the navigation to view your book list, make updates, add new books.")):r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:u?"loading":"submit-form"},r.a.createElement("p",null,r.a.createElement("label",null,"Enter your username: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"username",value:a,onChange:this.handleChange}))),r.a.createElement("input",{type:"submit",onClick:this.props.updateNav,disabled:u,value:"Sign In"}))),r.a.createElement("div",{className:"main-body"},r.a.createElement("h2",null,"User login"),r.a.createElement("hr",null),i&&r.a.createElement("div",{class:"progress-infinite"},r.a.createElement("div",{class:"progress-bar3"})),e)}}]),t}(r.a.Component)),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.username;console.log("username on signout",e),e&&a.setState({savedusername:e})},a.handleClear=function(){a.props.updateNav(),console.log("reached clear"),localStorage.clear(),a.setState({loggedout:!0})},a.handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.state={username:"",loggedout:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return e=this.state.loggedout?r.a.createElement("div",{className:"login"},r.a.createElement("p",null,"You've been logged out. Get back to your book.")):r.a.createElement("div",{className:"login"},r.a.createElement("p",null,r.a.createElement("strong",null,"Are you sure you want to sign out?")),r.a.createElement("div",{className:"div-button",onClick:this.handleClear},"Sign me out")),r.a.createElement("div",{className:"main-body"},r.a.createElement("h2",null,"User logout"),r.a.createElement("hr",null),e)}}]),t}(r.a.Component),C=a(156),w=a(157),j=a(158),O=a(72),F=a.n(O),A=(a(86),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.name,t=localStorage.getItem("username");e?(a.setState({savedusername:e,checkusername:!0,username:e}),a.getGoogleAPI()):t&&(a.setState({savedusername:t,checkusername:!0,username:t}),a.getGoogleAPI())},a.sortData=function(){for(var e=[],t=a.state.googleAPIData.filter((function(e){return"1"===e.gs$cell.col})),n=a.state.googleAPIData.filter((function(e){return"2"===e.gs$cell.col})),r=a.state.googleAPIData.filter((function(e){return"3"===e.gs$cell.col})),l=a.state.googleAPIData.filter((function(e){return"4"===e.gs$cell.col})),s=a.state.googleAPIData.filter((function(e){return"5"===e.gs$cell.col})),i=a.state.googleAPIData.filter((function(e){return"6"===e.gs$cell.col})),c=a.state.googleAPIData.filter((function(e){return"7"===e.gs$cell.col})),o=a.state.googleAPIData.filter((function(e){return"8"===e.gs$cell.col})),u=a.state.googleAPIData.filter((function(e){return"9"===e.gs$cell.col})),m=a.state.googleAPIData.filter((function(e){return"10"===e.gs$cell.col})),d=a.state.googleAPIData.filter((function(e){return"11"===e.gs$cell.col})),h=a.state.googleAPIData.filter((function(e){return"12"===e.gs$cell.col})),g=0;g<t.length;g++)e.push({firstName:t[g].content.$t,lastName:n[g].content.$t,username:r[g].content.$t,id:l[g].content.$t,title:s[g].content.$t,author:i[g].content.$t,date:c[g].content.$t,status:o[g].content.$t,rating:u[g].content.$t,overview:m[g].content.$t,image:d[g].content.$t,format:h[g].content.$t});a.setState({sortedData:e})},a.getGoogleAPI=function(){fetch("https://spreadsheets.google.com/feeds/cells/1HhGhrqm2vagTS5wKxNYp7rh89en4ZVNkLfPd4DYCcrI/1/public/full?alt=json").then((function(e){return e.json()})).then((function(e){a.setState({googleAPIData:e.feed.entry}),a.sortData()})).then((function(){var e=a.state.sortedData.filter((function(e){return e.username===a.state.username}));if(console.log("userdata",e),0===e.length)a.setState({currentID:1});else{for(var t=[],n=0;n<e.length;n++)t.push(parseInt(e[n].id.split("id=")[1]));var r=t.sort((function(e,t){return e-t}))[t.length-1]+1;a.setState({currentID:r})}})).then((function(){a.setState({searchloading:!1,searchButton:!0})}))},a.getAllData=function(){fetch("https://sheet.best/api/sheets/f1c6e2c7-2b3d-4f85-8e10-39c1cf415351").then((function(e){return e.json()})).then((function(e){a.setState({allData:e})})).then((function(){var e=a.state.allData.filter((function(e){return e.username===a.state.username}));if(0===e.length)a.setState({currentID:1});else{for(var t=[],n=0;n<e.length;n++)t.push(parseInt(e[n].id.split("id=")[1]));var r=t.sort((function(e,t){return e-t}))[t.length-1]+1;a.setState({currentID:r})}})).then((function(){a.setState({searchloading:!1,searchButton:!0})}))},a.handleSearch=function(e){e.preventDefault(),a.setState({searchloading:!0,searchError:!1,searchForm:!1}),fetch('https://www.googleapis.com/books/v1/volumes?q="'+a.state.query+'"').then((function(e){return e.json()})).then((function(e){if(!(e.totalItems>0))return a.setState({query:"",searchError:!0,searchForm:!0,searchloading:!1}),e;a.setState({searchData:e,searchComplete:!0,searchloading:!1})}))},a.showSearchForm=function(){a.setState({currentlyReading:!1,searchButton:!1,books:!1,searchForm:!0,author:"",title:"",status:"select-status",format:"select-format",rating:"select-rating",date:""})},a.addSearchResults=function(e,t,n,r,l){console.log("status is",a.state.status,"rating is ",a.state.rating);var s=y()().toDate();l.preventDefault(),a.setState({searchComplete:!1,searchForm:!1,query:"",adding:!0,form:!0,title:e,author:t[0],description:n,imageUrl:r,rating:"select-rating",date:s})},a.searchAgain=function(){a.setState({searchForm:!0,searchComplete:!1,query:""})},a.showAddForm=function(){a.setState({adding:!0,searchComplete:!1,searchForm:!1,form:!0})},a.handleSubmit=function(e){if("select-status"===a.state.status)console.log("not filled out"),e.preventDefault(),a.setState({required:!0});else{console.log("done");var t={firstName:"null",lastName:"null",date:a.state.date,author:a.state.author,username:a.state.username,title:a.state.title,status:a.state.status,format:a.state.format,id:a.state.username+"id="+a.state.currentID,rating:a.state.rating,overview:a.state.description,image:a.state.imageUrl};e.preventDefault(),a.setState({searchloading:!0,form:!1}),fetch("https://sheet.best/api/sheets/f1c6e2c7-2b3d-4f85-8e10-39c1cf415351",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((function(e){var t;return a.setState((t={searchloading:!1,author:"",title:"",status:"select-status",format:"select-format",rating:"select-rating",date:""},Object(b.a)(t,"rating",""),Object(b.a)(t,"description",""),Object(b.a)(t,"imageUrl",""),Object(b.a)(t,"adding",!1),Object(b.a)(t,"books",!0),Object(b.a)(t,"editing",!1),Object(b.a)(t,"currentlyReading",!0),Object(b.a)(t,"searchButton",!0),t)),a.getGoogleAPI(),e.json()}))}},a.updateBook=function(e,t){console.log("rating is ",e.rating);var n="select-rating"===e.rating?"select-rating":e.rating,r="Finished"===e.status?y()(e.date).toDate():y()().toDate();console.log("updating "+e.title+" with status of "+e.status+"to date of "+r),a.setState({books:!1,currentlyReading:!1,editing:!0,form:!0,searchButton:!1}),a.setState({date:r,author:e.author,title:e.title,status:e.status,format:e.format,rating:n,bookid:e.id})},a.handleSubmitEdit=function(e){var t={author:a.state.author,title:a.state.title,rating:a.state.rating,status:a.state.status,format:a.state.format,date:a.state.date};e.preventDefault(),a.setState({searchloading:!0,form:!1}),fetch("https://sheet.best/api/sheets/f1c6e2c7-2b3d-4f85-8e10-39c1cf415351/id/"+a.state.bookid,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(t)}).then((function(e){a.setState({author:"",title:"",status:"select-status",format:"select-format",rating:"select-rating",date:"",editing:!1})})).then((function(){a.getGoogleAPI(),a.setState({books:!0,searchloading:!1,currentlyReading:!0,searchButton:!0})}))},a.handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleDateChange=function(e){a.setState({date:e})},a.updateStatus=function(e){a.setState({status:e.target.value,required:!1}),console.log("rating here",a.state.rating)},a.updateTest=function(e){a.setState({test:e.target.value})},a.updateFormat=function(e){a.setState({format:e.target.value})},a.updateRating=function(e){a.setState({rating:e.target.value})},a.checkDelete=function(e){e.preventDefault(),a.setState({checking:!0})},a.handleDeleteYes=function(e){e.preventDefault(),a.setState({searchloading:!0,checking:!1,form:!1,editing:!1}),fetch("https://sheet.best/api/sheets/f1c6e2c7-2b3d-4f85-8e10-39c1cf415351/id/"+a.state.bookid,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"}).then((function(e){setTimeout((function(){a.getGoogleAPI(),a.setState({searchloading:!1,books:!0,searchButton:!0,currentlyReading:!0})}),1e3)}))},a.handleDeleteNo=function(){a.setState({checking:!1})},a.removeForm=function(){var e;a.setState((e={searchForm:!1,form:!1,books:!0,searchComplete:!1,query:"",adding:!1,author:"",title:"",status:"select-status",format:"select-format",rating:"select-rating",date:""},Object(b.a)(e,"rating",""),Object(b.a)(e,"editing",!1),Object(b.a)(e,"currentlyReading",!0),Object(b.a)(e,"searchButton",!0),Object(b.a)(e,"checking",!1),Object(b.a)(e,"required",!1),e))},a.state={username:"",allData:[],submitting:!1,author:"",title:"",test:"",status:"",format:"",rating:"",bookid:"",editing:!1,adding:!1,form:!1,currentID:"",date:"",checking:!1,query:"",searchData:[],searchComplete:!1,searchForm:!1,searchError:!1,books:!0,description:"",imageUrl:"",searchloading:!0,currentlyReading:!0,searchButton:!1,googleAPIData:[],sortedData:[],firstName:"",lastName:"",required:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderSearchData",value:function(){for(var e=this,t=this.state.submitting,a=this.state.searchData,n=[],l=function(){var l=a.items[s].volumeInfo,i=void 0;i=l.imageLinks?l.imageLinks.thumbnail:"",n.push(r.a.createElement(f.a,{key:a.items[s].id,md:6},r.a.createElement("div",{className:"eachbook"},r.a.createElement("p",null,r.a.createElement("strong",null,l.title,r.a.createElement("em",null,l.subtitle?", "+l.subtitle:""))),r.a.createElement("p",null,l.authors),r.a.createElement("p",null,l.imageLinks?r.a.createElement("img",{src:i,alt:l.title}):""),r.a.createElement(C.a,{defaultActiveKey:"0"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(C.a.Toggle,{as:j.a,variant:"link",eventKey:"1"},"Overview (see details)")),r.a.createElement(C.a.Collapse,{eventKey:"1"},r.a.createElement(w.a.Body,null,r.a.createElement("p",null,l.description))))),r.a.createElement("input",{type:"submit",className:"add-button search",disabled:t,onClick:function(t){return e.addSearchResults(l.title,l.authors,l.description,i,t)},value:t?"Loading...":"Add "+l.title}))))},s=0;s<a.items.length;s++)l();return n}},{key:"renderReading",value:function(){var e=this;return this.state.sortedData.filter((function(t){return t.username===e.state.username&&"Currently-Reading"===t.status})).map((function(t){return r.a.createElement(g.a,{className:"reading-now"},r.a.createElement(f.a,{sm:{span:3,offset:4}},r.a.createElement("div",{key:t.id},r.a.createElement("h4",null,r.a.createElement("em",null,t.title))),!e.state.form&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"edit"}),r.a.createElement("input",{type:"submit",value:"Update",id:"edit",onClick:function(a){return e.updateBook(t,a)}}))),r.a.createElement(f.a,{sm:2},r.a.createElement("span",null,t.image?r.a.createElement("img",{src:t.image,alt:t.title}):"")))}))}},{key:"renderFinishedData",value:function(){var e=this;return this.state.sortedData.filter((function(t){return t.username===e.state.username&&t.title&&"Finished"===t.status})).sort((function(e,t){return new y.a(e.date)-new y.a(t.date)})).map((function(t){return r.a.createElement(f.a,{key:t.id,className:"book-card",md:4},r.a.createElement("h4",null,r.a.createElement("em",null,t.title),"\xa0","Audio"===t.format?r.a.createElement("i",{className:"fa fa-headphones","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-book","aria-hidden":"true"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{sm:8},r.a.createElement("p",null,t.author),r.a.createElement("p",{className:"card-smaller"},t.status," ",y()(t.date).isValid()?y()(t.date).format("MMM D YYYY"):""," "),r.a.createElement("p",{className:"card-smaller"},"select-rating"===t.rating?"":t.rating," ",r.a.createElement("a",{className:"thrift-link",href:"https://www.thriftbooks.com/browse/?b.search="+t.title+" "+t.author,target:"_blank"},r.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}))),!e.state.form&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"edit"}),r.a.createElement("input",{type:"submit",value:"Update",id:"edit",onClick:function(a){return e.updateBook(t,a)}}))),r.a.createElement(f.a,{sm:4},t.image?r.a.createElement("img",{src:t.image,alt:t.title}):"")),t.overview?r.a.createElement(C.a,{defaultActiveKey:"0"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(C.a.Toggle,{as:j.a,variant:"link",eventKey:"1"},"Read summary")),r.a.createElement(C.a.Collapse,{eventKey:"1"},r.a.createElement(w.a.Body,null,r.a.createElement("p",null,t.overview))))):r.a.createElement("p",null,"(No summary available)"))}))}},{key:"renderWantData",value:function(){var e=this;return this.state.sortedData.filter((function(t){return t.username===e.state.username&&t.title&&"Want-to-read"===t.status})).map((function(t){return r.a.createElement(f.a,{key:t.id,className:"book-card",md:4},r.a.createElement("h4",null,r.a.createElement("em",null,t.title),"\xa0","Audio"===t.format?r.a.createElement("i",{className:"fa fa-headphones","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-book","aria-hidden":"true"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{sm:8},r.a.createElement("p",null,t.author),r.a.createElement("p",{className:"card-smaller"},r.a.createElement("a",{className:"thrift-link",href:"https://www.thriftbooks.com/browse/?b.search="+t.title+" "+t.author,target:"_blank"},r.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}))),!e.state.form&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"edit"}),r.a.createElement("input",{type:"submit",value:"Update",id:"edit",onClick:function(a){return e.updateBook(t,a)}}))),r.a.createElement(f.a,{sm:4},t.image?r.a.createElement("img",{src:t.image,alt:t.title}):"")),t.overview?r.a.createElement(C.a,{defaultActiveKey:"0"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(C.a.Toggle,{as:j.a,variant:"link",eventKey:"1"},"Read summary")),r.a.createElement(C.a.Collapse,{eventKey:"1"},r.a.createElement(w.a.Body,null,r.a.createElement("p",null,t.overview))))):r.a.createElement("p",null,"(No summary available)"))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.format,n=t.checking,l=t.submitting,s=t.author,i=t.title,c=(t.test,t.status),o=t.sortedData,u=t.date,m=t.query,d=(t.editing,t.rating),h=t.searchComplete,E=t.searchError,p=t.searchForm,v=t.searchloading,b=t.form,k=t.books,y=t.currentlyReading,N=t.searchButton,S=o.filter((function(t){return t.username===e.state.username})),D=o.filter((function(t){return t.username===e.state.username})).length;return r.a.createElement("div",{className:"main-body"},D>1&&S.filter((function(e){return"Currently-Reading"===e.status})).length>0&&y&&r.a.createElement("div",null,r.a.createElement("h2",null,"Currently reading:"),this.renderReading(),r.a.createElement("hr",null)),!k&&!v&&!b&&r.a.createElement("div",{id:"close-button"},r.a.createElement("button",{onClick:this.removeForm},"x")),N&&r.a.createElement("input",{type:"submit",className:"add-button",value:"Find a book",onClick:this.showSearchForm}),v&&r.a.createElement("div",{className:"progress-infinite"},r.a.createElement("div",{className:"progress-bar3"})),E&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Looks like we can't find that book. Search again below!"))),!h&&p&&r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSearch,className:l?"loading":"search-form"},r.a.createElement("input",{placeholder:"Search for books by title...",type:"text",name:"query",value:m,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Search"})),r.a.createElement("input",{className:"manual",type:"submit",onClick:this.showAddForm,disabled:l,value:"Manually enter a book"})),h&&r.a.createElement("div",{id:"search-results"},r.a.createElement("h3",null,"Found these books:"),r.a.createElement("input",{type:"submit",className:"add-button",onClick:this.searchAgain,value:"Search again"}),r.a.createElement(g.a,null,this.renderSearchData())),b&&r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.state.adding?this.handleSubmit:this.handleSubmitEdit,className:"submit-form"},r.a.createElement("div",{id:"close-form"},r.a.createElement("button",{onClick:this.removeForm},"x")),!n&&r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(f.a,{md:4},r.a.createElement("label",null,"Title:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"title",value:i,onChange:this.handleChange}))),r.a.createElement(f.a,{md:4},r.a.createElement("label",null,"Author:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"author",value:s,onChange:this.handleChange}))),r.a.createElement(f.a,{md:4},r.a.createElement("label",null,"Format: ",r.a.createElement("br",null),r.a.createElement("select",{defaultValue:a,onChange:this.updateFormat},r.a.createElement("option",{value:"select-format",disabled:!0},"Select format"),r.a.createElement("option",{value:"Audio"},"Audio"),r.a.createElement("option",{value:"Text"},"Text"))))),r.a.createElement(g.a,null,r.a.createElement(f.a,{md:4},r.a.createElement("label",null,"Status*:  ",r.a.createElement("br",null),this.state.required&&r.a.createElement("span",{className:"required"},"This is required"),r.a.createElement("select",{required:!0,defaultValue:c,onChange:this.updateStatus},r.a.createElement("option",{value:"select-status",disabled:!0},"Select status"),r.a.createElement("option",{value:"Finished"},"Finished"),r.a.createElement("option",{value:"Currently-Reading"},"Currently reading"),r.a.createElement("option",{value:"Want-to-read"},"Want to read")))),"Finished"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{md:4},r.a.createElement("label",null,"Recommendation: ",r.a.createElement("br",null),r.a.createElement("select",{defaultValue:d,onChange:this.updateRating},r.a.createElement("option",{value:"select-rating",disabled:!0},"Select rating"),r.a.createElement("option",{value:"Highly Recommend"},"Highly recommend"),r.a.createElement("option",{value:"Recommend"},"Recommend"),r.a.createElement("option",{value:"Do Not Recommend"},"Don't recommend"),r.a.createElement("option",{value:"Do Not Read"},"Please do not read")))),r.a.createElement(f.a,{md:4},r.a.createElement("label",null,"Finished on:"),r.a.createElement("br",null),r.a.createElement(F.a,{selected:u,onChange:this.handleDateChange}))))),!n&&r.a.createElement("div",{id:"input-section"},r.a.createElement("input",{type:"submit",value:this.state.adding?"Add Book":"Update Book"}),this.state.editing&&this.state.form&&r.a.createElement("input",{className:"delete",type:"submit",onClick:this.checkDelete,value:"Delete book"})),n&&r.a.createElement("div",{id:"delete-section"},r.a.createElement("div",null,r.a.createElement("h3",null,"Are you sure you want to delete ",i," from your list?"),r.a.createElement("label",{htmlFor:"delete-yes"}),r.a.createElement("input",{className:"delete check",type:"submit",value:"Yes",id:"delete-yes",onClick:this.handleDeleteYes}),r.a.createElement("label",{htmlFor:"delete-no"}),r.a.createElement("input",{className:"delete check",type:"submit",value:"No",id:"delete-no",onClick:this.handleDeleteNo}))))),k&&D>1&&r.a.createElement("div",{id:"booklist"},r.a.createElement("h2",null,"Your book list"),D>1&&S.filter((function(e){return"Finished"===e.status})).length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"Finished books"),r.a.createElement(g.a,null,this.renderFinishedData())),D>1&&S.filter((function(e){return"Want-to-read"===e.status})).length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"Books I want to read"),r.a.createElement(g.a,null,this.renderWantData()))))}}]),t}(r.a.Component)),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.setState({friendData:a.props.data,firstName:a.props.firstName[0].toUpperCase()+a.props.firstName.slice(1),searchloading:!1}),console.log("new component",a.props.data)},a.state={friendData:[],searchloading:!0,firstName:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderReading",value:function(){return this.state.friendData.filter((function(e){return"Currently-Reading"===e.status})).map((function(e){return r.a.createElement(g.a,{className:"reading-now"},r.a.createElement(f.a,{sm:{span:3,offset:4}},r.a.createElement("div",{key:e.id},r.a.createElement("h4",null,r.a.createElement("em",null,e.title)))),r.a.createElement(f.a,{sm:2},r.a.createElement("span",null,e.image?r.a.createElement("img",{src:e.image,alt:e.title}):"")))}))}},{key:"renderFinishedData",value:function(){return this.state.friendData.filter((function(e){return e.title&&"Finished"===e.status})).sort((function(e,t){return new y.a(e.date)-new y.a(t.date)})).map((function(e,t){return r.a.createElement(f.a,{key:e.id,className:"book-card",md:4},r.a.createElement("h4",null,r.a.createElement("em",null,e.title),"\xa0","Audio"===e.format?r.a.createElement("i",{className:"fa fa-headphones","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-book","aria-hidden":"true"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{sm:8},r.a.createElement("p",null,e.author),r.a.createElement("p",{className:"card-smaller"},e.status," ",y()(e.date).isValid()?y()(e.date).format("MMM D YYYY"):""," "),r.a.createElement("p",{className:"card-smaller"},e.rating," ",r.a.createElement("a",{className:"thrift-link",href:"https://www.thriftbooks.com/browse/?b.search="+e.title+" "+e.author,target:"_blank"},r.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})))),r.a.createElement(f.a,{sm:4},e.image?r.a.createElement("img",{src:e.image,alt:e.title}):"")),e.overview?r.a.createElement(C.a,{defaultActiveKey:"0"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(C.a.Toggle,{as:j.a,variant:"link",eventKey:"1"},"Read summary")),r.a.createElement(C.a.Collapse,{eventKey:"1"},r.a.createElement(w.a.Body,null,r.a.createElement("p",null,e.overview))))):r.a.createElement("p",null,"(No summary available)"))}))}},{key:"renderWantData",value:function(){return this.state.friendData.filter((function(e){return e.title&&"Want-to-read"===e.status})).map((function(e){return r.a.createElement(f.a,{key:e.id,className:"book-card",md:4},r.a.createElement("h4",null,r.a.createElement("em",null,e.title),"\xa0","Audio"===e.format?r.a.createElement("i",{className:"fa fa-headphones","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-book","aria-hidden":"true"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{sm:8},r.a.createElement("p",null,e.author),r.a.createElement("p",{className:"card-smaller"},r.a.createElement("a",{className:"thrift-link",href:"https://www.thriftbooks.com/browse/?b.search="+e.title+" "+e.author,target:"_blank"},r.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})))),r.a.createElement(f.a,{sm:4},e.image?r.a.createElement("img",{src:e.image,alt:e.title}):"")),e.overview?r.a.createElement(C.a,{defaultActiveKey:"0"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(C.a.Toggle,{as:j.a,variant:"link",eventKey:"1"},"Read summary")),r.a.createElement(C.a.Collapse,{eventKey:"1"},r.a.createElement(w.a.Body,null,r.a.createElement("p",null,e.overview))))):r.a.createElement("p",null,"(No summary available)"))}))}},{key:"render",value:function(){var e=this.state,t=e.friendData,a=e.searchloading,n=e.firstName,l=t,s=t.length;return r.a.createElement("div",{className:"main-body"},a&&r.a.createElement("div",{class:"progress-infinite"},r.a.createElement("div",{class:"progress-bar3"})),s>1&&l.filter((function(e){return"Currently-Reading"===e.status})).length>0&&!a&&r.a.createElement("div",null,r.a.createElement("h2",null,"Currently reading:"),r.a.createElement("h3",null," ",this.renderReading()),r.a.createElement("hr",null)),r.a.createElement("div",{id:"booklist"},r.a.createElement("h2",null,n,"'s book list"),s>1&&l.filter((function(e){return"Finished"===e.status})).length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"Finished books"),r.a.createElement(g.a,null,this.renderFinishedData())),s>1&&l.filter((function(e){return"Want-to-read"===e.status})).length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"Books ",n," wants to read"),r.a.createElement(g.a,null,this.renderWantData()))))}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.setState({username:a.props.username})},a.handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.setState({pickedUser:a.state.userLast,searchloading:!0,showForm:!1}),fetch("https://sheet.best/api/sheets/f1c6e2c7-2b3d-4f85-8e10-39c1cf415351").then((function(e){return e.json()})).then((function(e){a.setState({allData:e})})).then((function(){a.setState({searchloading:!1,userLast:""})}))},a.searchAgain=function(){a.setState({showForm:!0,showResults:!0,selectedFirst:"",friendData:[]})},a.state={username:"",userLast:"",allData:[],userFoundData:[],showForm:!0,showResults:!0,friendData:[],pickedUser:"",submitting:!1,searchloading:!1,selectedFirst:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"friendsBooks",value:function(e,t){var a=this.state.allData.filter((function(t){return t.username===e}));console.log("username",e),this.setState({friendData:a,showResults:!1,selectedFirst:t})}},{key:"renderFriend",value:function(){var e=this;function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}return this.state.allData.filter((function(t){return t.lastName===e.state.pickedUser.toLowerCase()})).map((function(a){return r.a.createElement("div",{key:a.id,className:"found-friend"},t(a.firstName)," ",t(a.lastName),r.a.createElement("button",{type:"submit",className:"div-button friend",onClick:function(){return e.friendsBooks(a.username,a.firstName)}},"View books"))}))}},{key:"render",value:function(){var e=this.state,t=e.userLast,a=e.submitting,n=e.showForm,l=e.friendData,s=e.showResults,i=e.pickedUser,c=e.allData,o=e.searchloading,u=e.selectedFirst,m=c.filter((function(e){return e.lastName===i.toLowerCase()})).length;return r.a.createElement("div",{className:"main-body"},r.a.createElement("h2",null,"Find your friends. Read their books."),r.a.createElement("hr",null),o&&r.a.createElement("div",{class:"progress-infinite"},r.a.createElement("div",{class:"progress-bar3"})),n&&!o&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Search for your friends by last name")),r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:a?"loading":"submit-form"},r.a.createElement("label",null,"Last name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"userLast",value:t,onChange:this.handleChange})),r.a.createElement("div",{id:"input-section"},r.a.createElement("input",{type:"submit",disabled:a,value:"Search"}))))),!n&&!o&&r.a.createElement("div",{className:"div-button",onClick:this.searchAgain},"Search again"),1===m&&!n&&!o&&r.a.createElement("div",{className:"friend-results"},s&&r.a.createElement("div",null,r.a.createElement("h3",null,"Found user:"),"\xa0",r.a.createElement("span",null,this.renderFriend())),l.length>0&&r.a.createElement(I,{data:l,firstName:u})),m>1&&!n&&r.a.createElement("div",{className:"friend-results"},s&&r.a.createElement("div",null,r.a.createElement("h3",null,"Found users:"),this.renderFriend()),l.length>1&&r.a.createElement(I,{data:l,firstName:u})),0===m&&!n&&!o&&r.a.createElement("div",{className:"friend-results"},"No users found"))}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=localStorage.getItem("username");e&&a.setState({savedusername:e,checkusername:!0})},a.updateNav=function(){console.log("update nav");var e=localStorage.getItem("username");a.setState({savedusername:e,checkusername:!a.state.checkusername})},a.state={checkusername:!1,savedusername:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.checkusername,l=a.savedusername;return e=r.a.createElement(d.a,null,n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{exact:!0,activeClassName:"active",to:"/"},"  ",r.a.createElement("i",{className:"fa fa-book","aria-hidden":"true"})),r.a.createElement(d.b,{exact:!0,activeClassName:"active",to:"/sign-out"},"Logout"),r.a.createElement(d.b,{exact:!0,activeClassName:"active",to:"/books"},"Your books"),r.a.createElement(d.b,{exact:!0,activeClassName:"active",to:"/friend-find"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),"\xa0Friends' Books")),!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{exact:!0,activeClassName:"active",to:"/"},"  ",r.a.createElement("i",{className:"fa fa-book","aria-hidden":"true"})),r.a.createElement(d.b,{exact:!0,activeClassName:"active",to:"/sign-up"},"Sign Up"),r.a.createElement(d.b,{exact:!0,activeClassName:"active",to:"/sign-in"},"Login")),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{exact:!0,path:"/sign-out",render:function(){return r.a.createElement(D,{updateNav:t.updateNav,username:l})}}),r.a.createElement(h.a,{exact:!0,path:"/books",render:function(){return r.a.createElement(A,{name:t.state.savedusername})}}),r.a.createElement(h.a,{exact:!0,path:"/sign-up",render:function(){return r.a.createElement(N,{updateNav:t.updateNav})}}),r.a.createElement(h.a,{exact:!0,path:"/sign-in",render:function(){return r.a.createElement(S,{updateNav:t.updateNav})}}),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(v,{updateNav:t.updateNav})}}),r.a.createElement(h.a,{exact:!0,path:"/friend-find",render:function(){return r.a.createElement(R,{username:l})}}))),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Book Ends")),r.a.createElement("article",null,r.a.createElement("div",{className:"navigation"},e)))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},70:function(e,t,a){e.exports=a.p+"static/media/mug-book.c6e5ed7e.png"},77:function(e,t,a){e.exports=a(148)},82:function(e,t,a){},85:function(e,t,a){e.exports=a.p+"static/media/open-book.c95a880f.png"}},[[77,1,2]]]);
//# sourceMappingURL=main.1b27ec4e.chunk.js.map